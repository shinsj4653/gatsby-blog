{"componentChunkName":"component---src-templates-post-template-tsx","path":"/JS와 Canvas로 게임만들기/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<div class=\"notice--success\">\r\n  <h4>11주차</h4>\r\n  <ul>\r\n    <li>캔버스 요소</li>\r\n    <li>도형 만들기</li>\r\n    <li>애니메이션</li>\r\n  </ul>\r\n</div>\n<h1>캔버스 요소</h1>\n<ul>\n<li>웹페이지 위에 직접 그림을 그릴 수 있는 요소</li>\n<li>사각 형태의 영역</li>\n<li>디폴트 값으로 <strong>경계를 갖지 않음</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>myCanvas<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>300<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>항상 id속성을 지정해야해야한다. 그래야 js에서 참조가 가능하다. 그리고 가로, 세로 크기도 꼭 설정해야한다.</p>\n<h2>캔버스 좌표계</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3ebd97e671774e35391df737e685443c/0eb09/canvas.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.4375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACW0lEQVQ4y31T227TQBDN9xYhLlJVpPYFXqtyUdVykeAPQIDoA0Ki4pIWXiAq5aFJRFFiEju20zqxvbNz2UG2k9CmDUerlT1zzp7dmd2aToFIIs45/c9glorGLKpam4mbzSNjjKoWC1xAFUzT9MfhQaPxbW/vc5blhThJkjRNhxEMBnkUmckIi+9BkJ79DcM8DNN2K+p2TibOQeD7fjiMkVkAEJER2RjL7H4fd4yxiFzFAQrOeIzG8L9tI0oc5arKTM6Jc0KEqhrFERE6J1V8OnOlmok5CnNVV6xfwlpbiKMIEUWkis+yc2IJB1klJqKZOI4ik+Vk0Rogi2gtMxPRvDiOodw2uxIV49jremGgquTEqStycmHbRO7n4XEQ+EEQ9Pv9wWAwCALP77d23tvXn/jdV3z7hXbq6AWiOh6Ner3eOefAT4u1WXzfBwBGFFV8vgtL67C8CcubZmmdG82itSenjUbjnDgKc+fEWlucmRiMEVX78oO5cR/WnsDaY7j5ABtNVs3GY8/z5lplzp3ZFq2iVx/Ntbuw+ghWH5rr9/igrap5moZhOF/tmTMR2dIZX+zClQ1Y2YaVLbi6Qd+PUJURJwUrC4uXOJcMelM3K1tw5xncfmpubcvhL6fKs1ZlWba/v0/k5p0BRASSMQ0TGiY2PqX4FLO8ugUTcZ7n9Xqd2Q1jU/aMpARWzsJOVZwQszhXzGdvWJKMut0OGOl2Rqoq5Zsu70KhB2OKwxM7Lsc0OxETsbWQZ9T7k5bvdvKARcTzvHa73Wq1REQvQ00Xw02xiFCb8nQxZyH+Aifsdvh9W+HAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/3ebd97e671774e35391df737e685443c/a59e9/canvas.webp 192w,\n/static/3ebd97e671774e35391df737e685443c/0ca9f/canvas.webp 384w,\n/static/3ebd97e671774e35391df737e685443c/601b1/canvas.webp 500w\"\n              sizes=\"(max-width: 500px) 100vw, 500px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/3ebd97e671774e35391df737e685443c/3b721/canvas.png 192w,\n/static/3ebd97e671774e35391df737e685443c/66595/canvas.png 384w,\n/static/3ebd97e671774e35391df737e685443c/0eb09/canvas.png 500w\"\n            sizes=\"(max-width: 500px) 100vw, 500px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/3ebd97e671774e35391df737e685443c/0eb09/canvas.png\"\n            alt=\"canvas\"\n            title=\"canvas\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2>컨텍스트 객체</h2>\n<ul>\n<li>도화지 === canvas</li>\n<li>물감과 붓 === <strong>컨텍스트(context)객체</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myCanvas'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>‘2d’ : 2차원 그래픽을 의미한다.</li>\n<li>getContext()가 반환하는 컨텍스트 객체는 HTML5에 내장된 객체<br>\n=> 그림을 그리는 많은 메서드를 가지고 있음</li>\n</ul>\n<h2>사각형 그리기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myCanvas'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span>\r\n\r\ncontext<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'#00FF00'</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>fillStyle : 채우기 속성(색상, 그라디언트, 패턴 등등)</li>\n<li>fillRect(x, y, width, height) : 사각형을 그린다.</li>\n</ul>\n<h2>! 주의 !</h2>\n<blockquote>\n<p>캔버스가 생성되기 전에 js가 실행되면 오류가 남! 따라서, 문서의 로드가 끝난 후에 js가 실행되어야함<br>그래서, 자바스크립트를 <strong><body> 요소의 맨 끝</strong>에 두어야함</p>\n</blockquote>\n<h2>직선 그리기</h2>\n<ul>\n<li>moveTo(x, y) : 직선의 시작점을 정의</li>\n<li>lineTo(x, y) : 직선의 끝점을 정의</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myCanvas'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span>\r\n\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">moveTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>beginPath() : 경로를 초기화한다</li>\n<li>stroke() : 경로를 형성해서 그릴 때는 마지막에 stroke()를 호출해야 그림이 실제로 그려진다!</li>\n</ul>\n<h2>원 그리기</h2>\n<ul>\n<li>arc(x, y, radius, startAngle, endAngle, antiClockWise 여부)</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 462px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/85560bb88718b001bcd4afa1b35e8dbc/674e9/canvas_circle.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.020833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe7Gklg//8QAGRABAAIDAAAAAAAAAAAAAAAAAQIQESEx/9oACAEBAAEFAl1GWaeBX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAMAAwAAAAAAAAAAAAAAAAABERAhMf/aAAgBAQABPyGNFGynQUsf/9oADAMBAAIAAwAAABC/z//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAgEBPxCIf//EABoQAQEBAQADAAAAAAAAAAAAAAERACEQUXH/2gAIAQEAAT8QtAfXR1C37YYCURwEEvNYQ6nj/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/85560bb88718b001bcd4afa1b35e8dbc/a59e9/canvas_circle.webp 192w,\n/static/85560bb88718b001bcd4afa1b35e8dbc/0ca9f/canvas_circle.webp 384w,\n/static/85560bb88718b001bcd4afa1b35e8dbc/0b6e4/canvas_circle.webp 462w\"\n              sizes=\"(max-width: 462px) 100vw, 462px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/85560bb88718b001bcd4afa1b35e8dbc/150b2/canvas_circle.jpg 192w,\n/static/85560bb88718b001bcd4afa1b35e8dbc/6985d/canvas_circle.jpg 384w,\n/static/85560bb88718b001bcd4afa1b35e8dbc/674e9/canvas_circle.jpg 462w\"\n            sizes=\"(max-width: 462px) 100vw, 462px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/85560bb88718b001bcd4afa1b35e8dbc/674e9/canvas_circle.jpg\"\n            alt=\"circle\"\n            title=\"circle\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>원 그린후에, 시작점과 종료점을 연결하여 그리고 싶으면 closePath() 호출!</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myCanvas'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span>\r\n\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.5</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">closePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span>strokeStyle <span class=\"token operator\">=</span> <span class=\"token string\">'blue'</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>선만 나타내고 싶으면 stroke(), 안쪽을 채워서 나타내고 싶으면 fill() 활용</li>\n</ul>\n<h2>곡선 그리기</h2>\n<ul>\n<li><strong>4개의 제어점</strong>을 기준으로 그림</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myCanvas'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span>\r\n\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">moveTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">90</span><span class=\"token punctuation\">,</span> <span class=\"token number\">130</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">bezierCurveTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">140</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">288</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">288</span><span class=\"token punctuation\">,</span> <span class=\"token number\">130</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span>lineWidth <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\r\ncontext<span class=\"token punctuation\">.</span>strokeStyle <span class=\"token operator\">=</span> <span class=\"token string\">'black'</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>moveTo()로 첫번째 점 잡고, beizerCurveTo()로 나머지 3개의 점 잡기</li>\n</ul>\n<h1>도형의 속성</h1>\n<h2>이미지 그리기</h2>\n<ul>\n<li>drawImage(image, x, y)</li>\n<li>image객체가 필요하기 때문에 drawImage() 호출 전에 이미지가 로드되기를 기다려야함<br>\n=> image객체의 onload 속성 이용하면 됨</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myCanvas'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">let</span> image <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\nimage<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'html5_logo.png'</span>\r\nimage<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>이미지가 로드된 후에 이미지를 그린다.</li>\n</ul>\n<h1>도형 변환</h1>\n<h2>평행 이동(translation)</h2>\n<ul>\n<li>캔버스 좌표계를 평행이동(translate)시킴</li>\n<li>캔버스를 수평이나 수직으로 이동</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myCanvas'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span>\r\n\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">translate</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'red'</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>좌표계를 (50, 50) 만큼 이동시켰으므로 사각형이 (50, 50) 에서 그려짐</li>\n</ul>\n<h2>회전</h2>\n<h3>rotate() 함수 사용</h3>\n<ul>\n<li>rotate(float degree): (0, 0)을 기준으로 좌표 공간을 회전시킴</li>\n<li>rotate(float degree, float px, float py): (px, py)가 회전의 중심점이 된다</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">context<span class=\"token punctuation\">.</span><span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>신축</h2>\n<h3>scale() 함수 사용</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">context<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>일반 변환</h2>\n<h3>transform() 함수 사용</h3>\n<ul>\n<li>변환행렬 활용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 변환행렬</span>\r\n<span class=\"token comment\">// 1 0 tx</span>\r\n<span class=\"token comment\">// 0 1 ty</span>\r\n<span class=\"token comment\">// 0 0 1</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">transform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>끝의 두개가 tx, ty가 됨</li>\n<li>tx, ty 위치에 옮겨져서 그려짐</li>\n</ul>\n<h1>애니메이션</h1>\n<ul>\n<li>Bouncing Ball 예제</li>\n</ul>\n<h2>애니메이션 작성하는 순서</h2>\n<ol>\n<li>캔버스를 지운다.</li>\n<li>(x, y) 위치에 그림을 그린다.</li>\n<li>위치를 업데이트한다.</li>\n<li>1 ~ 3번까지 반복</li>\n</ol>\n<h2>STEP #1 캔버스 지우기</h2>\n<ul>\n<li>clearRect() 사용</li>\n<li>캔버스 객체를 다시 생성하는 것보다 훨씬 빠름!</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">context<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>캔버스를 지우지 않으면 이전 그림이 그대로 남아있음..</li>\n</ul>\n<h2>STEP #2 캔버스에 그림 그리기</h2>\n<ul>\n<li>빨간색 원 그리기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">context<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'red'</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">closePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>그림 그리기 전, <strong>반드시 beginPath()를 호출</strong>해야함</li>\n<li>fill()을 호출하면 모든 경로를 전부 칠하게 되는데, beginPath()가 없으면 경로가 초기화되지 않아서, 이전경로까지 모두 칠해지게 됨..</li>\n</ul>\n<h2>STEP #3 위치 업데이트</h2>\n<ul>\n<li>볼의 위치 => (x, y)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">x <span class=\"token operator\">+=</span> dx\r\ny <span class=\"token operator\">+=</span> dy</code></pre></div>\n<ul>\n<li>\n<p>dx, dy => 볼이 한 번에 움직이는 거리(5로 초기화되어 있음)</p>\n</li>\n<li>\n<p>벽에 부딪히면 볼이 <strong>반사</strong>되도록 해야함<br>\n=> x, y가 벽에 닿으면 dx, dy를 <strong>반전</strong>시키면 됨!</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 볼을 반전시키는 코드</span>\r\n\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">+</span> <span class=\"token number\">20</span> <span class=\"token operator\">||</span> x <span class=\"token operator\">></span> <span class=\"token number\">300</span> <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> dx <span class=\"token operator\">=</span> <span class=\"token operator\">-</span>dx\r\n\r\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">+</span> <span class=\"token number\">20</span> <span class=\"token operator\">||</span> y <span class=\"token operator\">></span> <span class=\"token number\">200</span> <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> dy <span class=\"token operator\">=</span> <span class=\"token operator\">-</span>dy\r\n\r\nx <span class=\"token operator\">+=</span> dx\r\ny <span class=\"token operator\">+=</span> dy</code></pre></div>\n<h2>STEP #4 위의 절차를 반복하기</h2>\n<ul>\n<li>모든 애니메이션은 <strong>반복</strong>해야한다</li>\n<li>다음과 같은 함수 중에서 하나 사용!</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>doSomething<span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 500밀리초 후에 doSomething()을 호출</span>\r\n<span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>doSomething<span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 매 500밀리초마다 doSomething()을 호출</span></code></pre></div>\n<ul>\n<li>공 튀기기 예제에선 setInterval()활용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>draw<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>완성결과</h2>\n<p><img src=\"/ef4a597f507f010c588f6db75002754d/bounceball.gif\" alt=\"bouncingball\"></p>\n<h1>게임 제작 - 공 쏘기 게임</h1>\n<h2>HTML 요소 생성</h2>\n<ul>\n<li>그림을 그리기 위한 canvas</li>\n<li>사용자로부터 숫자를 입력받을수 있는 input 요소</li>\n<li>점수 표시부분</li>\n<li>발사 버튼</li>\n</ul>\n<h2>배경 만들기</h2>\n<ul>\n<li>drawImage() 활용</li>\n<li>init() : context변수에 값 대입하고 배경 그려주는 역할</li>\n<li>문서가 완전히 로드된 후에 init() 호출해야함!</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>움직이는 공 만들기</h2>\n<ul>\n<li>JS 물리엔진 : <strong>Box 2D</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> ballV <span class=\"token comment\">// 공의 속도</span>\r\n<span class=\"token keyword\">let</span> ballVx <span class=\"token comment\">// 공의 x 방향 속도</span>\r\n<span class=\"token keyword\">let</span> ballVy <span class=\"token comment\">// 공의 y 방향 속도</span>\r\n<span class=\"token keyword\">let</span> ballX <span class=\"token comment\">// 공의 현재 x좌표</span>\r\n<span class=\"token keyword\">let</span> ballY <span class=\"token comment\">// 공의 현재 y좌표</span>\r\n<span class=\"token keyword\">let</span> ballRadius <span class=\"token comment\">// 공의 반지름</span></code></pre></div>\n<ul>\n<li>ballVx : 초기 속도에서 변하지 않는다.</li>\n<li>ballVy : 초기 속도에서 <strong>중력 가속도</strong> 만큼 점점 느려진다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ballVx <span class=\"token operator\">=</span> ballVx\r\nballVy <span class=\"token operator\">=</span> ballVy <span class=\"token operator\">+</span> <span class=\"token number\">1.98</span></code></pre></div>\n<ul>\n<li>공의 현재위치\n<ul>\n<li>이전 위치에서 속도 * 시간을 더하면 된다.</li>\n<li>단위시간 1이 흘렀다고 가정하면?</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ballX <span class=\"token operator\">=</span> ballX <span class=\"token operator\">+</span> ballVx <span class=\"token operator\">*</span> <span class=\"token number\">1</span>\r\nballY <span class=\"token operator\">=</span> ballY <span class=\"token operator\">+</span> ballYy <span class=\"token operator\">*</span> <span class=\"token number\">1</span></code></pre></div>\n<ul>\n<li>단위 시간마다 속도 다시 계산하고, 공을 화면에 다시 그려야한다<br>\n=> setInterval() 활용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">timer <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>calculate<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>공이 목표 안에 있으면 점수 1만큼 증가!</li>\n<li>목표안에 들어오면 timer 중단</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ballX <span class=\"token operator\">>=</span> <span class=\"token number\">450</span> <span class=\"token operator\">&amp;&amp;</span> ballX <span class=\"token operator\">&lt;=</span> <span class=\"token number\">480</span> <span class=\"token operator\">&amp;&amp;</span> ballY <span class=\"token operator\">>=</span> <span class=\"token number\">60</span> <span class=\"token operator\">&amp;&amp;</span> ballY <span class=\"token operator\">&lt;=</span> <span class=\"token number\">210</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  score<span class=\"token operator\">++</span>\r\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'score'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'점수='</span> <span class=\"token operator\">+</span> score\r\n  <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>timer<span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>공의 초기속도</h2>\n<ul>\n<li>사용자가 입력한 속도와 각도에 따라서 초기속도가 달라짐</li>\n<li><strong>삼각함수</strong> 활용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">//id가 velocity인 요소에서 값을 읽어서 숫자로 변환</span>\r\nvelocity <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'velocity'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\">// id가 angle인 요소에서 값을 읽어서 숫자로 변환</span>\r\nangle <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'angle'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\">// 각도 단위를 도에서 라디안으로 바꿈!</span>\r\n<span class=\"token keyword\">let</span> angleR <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>angle <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">180</span>\r\n\r\n<span class=\"token comment\">// 공의 초기 x방향 속도와 y방향 속도를 계산!</span>\r\nballVx <span class=\"token operator\">=</span> velocity <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>angleR<span class=\"token punctuation\">)</span>\r\nballVy <span class=\"token operator\">=</span> <span class=\"token operator\">-</span>velocity <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>angleR<span class=\"token punctuation\">)</span></code></pre></div>\n<h1>완성결과</h1>\n<p><img src=\"/2b9a5c2961e25cb923790a5c7deeb66c/shootingball.gif\" alt=\"shootingball\"></p>\n<h1>연습문제</h1>\n<h2>3번</h2>\n<ul>\n<li>canvas가 다 로드되고나서야, script영역에서 canvas를 찾을 수 있음!</li>\n<li>body onload=“init()” 활용!</li>\n</ul>\n<h2>4번</h2>\n<ul>\n<li>이미지 객체 생성후, image.onload 활용!</li>\n<li>이미지가 로드된후에 그려야함!</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> image <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\nimage<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'lion.jpg'</span>\r\nimage<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>5번 (아날로그 시계)</h2>\n<p><a href=\"https://www.w3bai.com/ko/canvas/canvas_clock_start.html\" target=\"_blank\" rel=\"nofollow\">시계구현-참고글</a></p>\n<h2>6번 (벽돌깨기 게임)</h2>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript\" target=\"_blank\" rel=\"nofollow\">벽돌깨기구현-참고글</a></p>","frontmatter":{"title":"JS와 Canvas로 게임만들기","summary":"학교 웹 프로그래밍 수업 중, 11주차 수업 내용정리","date":"2022.02.13.","categories":["KU","WebProgramming","JavaScript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVQoz2NgyXbAilizHZmzHJiy7EHsHEesahhwaWbMtOMvdJer9OfJc2HMsiNWM2u2I0OmnUy5f9jU0tQ5dSFTioWKPJmy7FmJ0wyy1rUnM21OfdaCtrQ59ZZtiQwZNpiOx66ZIdPOqTsjZU59zsKOxFm1xs3xJGhmzLITKPRw6EwPmFho35nGne8CCTmiAow5y1663F+nIdq8LUmjLkK0xJtYzRA/m7XEu/dmW7Ylu/ZmadVHMGTasmY7EhtVzJDgzbJnwxHJ+DSz5jhCEC4FQM0A272XvzLnnzwAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/0395ce950cf9b3d87613dcc3caa550b0/441e0/thumbnail-konkuk.png","srcSet":"/static/0395ce950cf9b3d87613dcc3caa550b0/a890b/thumbnail-konkuk.png 128w,\n/static/0395ce950cf9b3d87613dcc3caa550b0/57e5a/thumbnail-konkuk.png 256w,\n/static/0395ce950cf9b3d87613dcc3caa550b0/441e0/thumbnail-konkuk.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/0395ce950cf9b3d87613dcc3caa550b0/b4320/thumbnail-konkuk.webp 128w,\n/static/0395ce950cf9b3d87613dcc3caa550b0/5bc42/thumbnail-konkuk.webp 256w,\n/static/0395ce950cf9b3d87613dcc3caa550b0/f6a5f/thumbnail-konkuk.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":250}},"publicURL":"/static/0395ce950cf9b3d87613dcc3caa550b0/thumbnail-konkuk.png"}}}}]}},"pageContext":{"slug":"/JS와 Canvas로 게임만들기/"}},"staticQueryHashes":[]}